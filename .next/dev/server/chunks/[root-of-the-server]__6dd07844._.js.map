{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/console-prompt/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json()\n    const { prompt, images } = body\n\n    // Enviar APENAS para o Console Prompt Workflow (porta 3001)\n    // NÃO fazer fallback para o console do servidor\n    try {\n      const response = await fetch('http://localhost:3001/console-prompt', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ prompt, images })\n      })\n\n      if (response.ok) {\n        return NextResponse.json({ \n          success: true, \n          message: 'Prompt enviado ao Console Prompt Workflow' \n        })\n      } else {\n        // Workflow está rodando mas retornou erro\n        return NextResponse.json({ \n          success: false, \n          message: 'Erro ao enviar para o Console Prompt Workflow' \n        }, { status: 500 })\n      }\n    } catch (fetchError) {\n      // Workflow não está rodando - retornar erro informativo\n      return NextResponse.json({ \n        success: false, \n        message: 'Console Prompt Workflow não está rodando. Inicie o workflow na porta 3001.' \n      }, { status: 503 })\n    }\n  } catch (error) {\n    return NextResponse.json(\n      { error: 'Erro ao processar prompt' },\n      { status: 500 }\n    )\n  }\n}\n\nexport async function DELETE(request: NextRequest) {\n  try {\n    // Limpar APENAS no Console Prompt Workflow\n    // NÃO limpar o console do servidor\n    const response = await fetch('http://localhost:3001/console-prompt', {\n      method: 'DELETE'\n    })\n    \n    if (response.ok) {\n      return NextResponse.json({ \n        success: true, \n        message: 'Console Prompt Workflow limpo' \n      })\n    } else {\n      // Workflow está rodando mas retornou erro\n      return NextResponse.json({ \n        success: false, \n        message: 'Erro ao limpar Console Prompt Workflow' \n      }, { status: 500 })\n    }\n  } catch (error) {\n    // Workflow não está rodando - retornar erro informativo\n    return NextResponse.json({ \n      success: false, \n      message: 'Console Prompt Workflow não está rodando. Inicie o workflow na porta 3001.' \n    }, { status: 503 })\n  }\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG;QAE3B,4DAA4D;QAC5D,gDAAgD;QAChD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,wCAAwC;gBACnE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAQ;gBAAO;YACxC;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,OAAO,gJAAY,CAAC,IAAI,CAAC;oBACvB,SAAS;oBACT,SAAS;gBACX;YACF,OAAO;gBACL,0CAA0C;gBAC1C,OAAO,gJAAY,CAAC,IAAI,CAAC;oBACvB,SAAS;oBACT,SAAS;gBACX,GAAG;oBAAE,QAAQ;gBAAI;YACnB;QACF,EAAE,OAAO,YAAY;YACnB,wDAAwD;YACxD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,SAAS;YACX,GAAG;gBAAE,QAAQ;YAAI;QACnB;IACF,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA2B,GACpC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,OAAO,OAAoB;IAC/C,IAAI;QACF,2CAA2C;QAC3C,mCAAmC;QACnC,MAAM,WAAW,MAAM,MAAM,wCAAwC;YACnE,QAAQ;QACV;QAEA,IAAI,SAAS,EAAE,EAAE;YACf,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,SAAS;YACX;QACF,OAAO;YACL,0CAA0C;YAC1C,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,SAAS;YACX,GAAG;gBAAE,QAAQ;YAAI;QACnB;IACF,EAAE,OAAO,OAAO;QACd,wDAAwD;QACxD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF","debugId":null}}]
}