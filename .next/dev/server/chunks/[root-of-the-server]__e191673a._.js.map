{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/pos/service-types/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { createClient } from '@/app/utils/supabase/server';\n\n// GET - Listar tipos de serviço (rodízio, à la carte, etc)\n// Read-only endpoint para o tablet\nexport async function GET() {\n  try {\n    const supabase = await createClient();\n    \n    // Buscar service types com grupos linkados\n    const { data: serviceTypes, error } = await supabase\n      .from('service_types')\n      .select(`\n        *,\n        linked_groups:service_type_groups(\n          group:groups(*)\n        )\n      `)\n      .order('sort_order', { ascending: true });\n      \n    if (error) {\n      console.error('Erro ao buscar service types:', error);\n      return NextResponse.json({\n        success: false,\n        message: error.message\n      }, { status: 500 });\n    }\n    \n    // Formatar resposta\n    const formattedTypes = (serviceTypes || []).map(type => ({\n      ...type,\n      linked_groups: type.linked_groups?.map(link => link.group) || []\n    }));\n    \n    return NextResponse.json({\n      success: true,\n      serviceTypes: formattedTypes\n    });\n    \n  } catch (error) {\n    console.error('Erro ao processar service types:', error);\n    return NextResponse.json({\n      success: false,\n      message: 'Erro interno do servidor'\n    }, { status: 500 });\n  }\n}"],"names":[],"mappings":";;;;AAAA;;;;;;;;AAKO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM;QAEvB,2CAA2C;QAC3C,MAAM,EAAE,MAAM,YAAY,EAAE,KAAK,EAAE,GAAG,MAAM,SACzC,IAAI,CAAC,iBACL,MAAM,CAAC,CAAC;;;;;MAKT,CAAC,EACA,KAAK,CAAC,cAAc;YAAE,WAAW;QAAK;QAEzC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,SAAS,MAAM,OAAO;YACxB,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,oBAAoB;QACpB,MAAM,iBAAiB,CAAC,gBAAgB,EAAE,EAAE,GAAG,CAAC,CAAA,OAAQ,CAAC;gBACvD,GAAG,IAAI;gBACP,eAAe,KAAK,aAAa,EAAE,IAAI,CAAA,OAAQ,KAAK,KAAK,KAAK,EAAE;YAClE,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,cAAc;QAChB;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF","debugId":null}}]
}