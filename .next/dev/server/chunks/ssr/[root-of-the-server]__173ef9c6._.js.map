{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabase/fallback-client.ts"],"sourcesContent":["// Fallback client para desenvolvimento sem banco configurado\nimport { toast } from \"sonner\"\n\nconst mockData = {\n  categories: [\n    { id: '1', name: 'Sashimis', description: 'Peixes crus fatiados', active: true, sort_order: 1 },\n    { id: '2', name: 'Niguiris', description: 'Bolinhos de arroz com peixe', active: true, sort_order: 2 },\n    { id: '3', name: 'Hot Rolls', description: 'Rolos empanados e fritos', active: true, sort_order: 3 },\n    { id: '4', name: 'Temakis', description: 'Cones de alga com recheio', active: true, sort_order: 4 },\n    { id: '5', name: 'Yakissobas', description: 'Macarr√£o japon√™s salteado', active: true, sort_order: 5 },\n  ],\n  restaurant_tables: [\n    { id: '1', name: 'Mesa 1', number: 1, capacity: 4, type: 'table', active: true },\n    { id: '2', name: 'Mesa 2', number: 2, capacity: 4, type: 'table', active: true },\n    { id: '3', name: 'Mesa 3', number: 3, capacity: 6, type: 'table', active: true },\n    { id: '4', name: 'Mesa VIP', number: 10, capacity: 10, type: 'table', active: true },\n    { id: '5', name: 'Balc√£o 1', number: 11, capacity: 1, type: 'counter', active: true },\n  ],\n  table_sessions: [\n    { id: '1', table_id: '1', status: 'active', created_at: new Date().toISOString() },\n    { id: '2', table_id: '3', status: 'active', created_at: new Date().toISOString() },\n  ],\n  items: [\n    { id: '1', name: 'Salm√£o', description: 'Sashimi de salm√£o fresco', price: 25, available: true },\n    { id: '2', name: 'Atum', description: 'Sashimi de atum', price: 30, available: true },\n    { id: '3', name: 'Hot Philadelphia', description: 'Hot roll com cream cheese', price: 35, available: true },\n  ],\n  orders: []\n}\n\nexport function createFallbackClient() {\n  console.log('üü® Usando dados locais de desenvolvimento')\n  \n  return {\n    from: (table: string) => ({\n      select: (columns?: string) => ({\n        eq: (column: string, value: any) => ({\n          data: null,\n          error: null\n        }),\n        gte: (column: string, value: any) => ({\n          data: null, \n          error: null\n        }),\n        order: (column: string, options?: any) => ({\n          limit: (count: number) => ({\n            data: mockData[table as keyof typeof mockData] || [],\n            error: null\n          }),\n          data: mockData[table as keyof typeof mockData] || [],\n          error: null\n        }),\n        limit: (count: number) => ({\n          data: mockData[table as keyof typeof mockData]?.slice(0, count) || [],\n          error: null\n        }),\n        in: (column: string, values: any[]) => ({\n          data: mockData[table as keyof typeof mockData] || [],\n          error: null\n        }),\n        data: mockData[table as keyof typeof mockData] || [],\n        error: null\n      }),\n      \n      insert: (data: any) => ({\n        select: () => ({\n          data: [{ ...data, id: Date.now().toString() }],\n          error: null\n        }),\n        data: { ...data, id: Date.now().toString() },\n        error: null\n      }),\n      \n      update: (data: any) => ({\n        eq: (column: string, value: any) => {\n          const items = mockData[table as keyof typeof mockData] as any[]\n          const index = items?.findIndex((item: any) => item[column] === value)\n          if (index !== -1 && items) {\n            items[index] = { ...items[index], ...data }\n          }\n          return { data: items?.[index], error: null }\n        }\n      }),\n      \n      delete: () => ({\n        eq: (column: string, value: any) => {\n          const items = mockData[table as keyof typeof mockData] as any[]\n          const index = items?.findIndex((item: any) => item[column] === value)\n          if (index !== -1 && items) {\n            items.splice(index, 1)\n          }\n          return { data: null, error: null }\n        }\n      })\n    })\n  }\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabase/auto-detect.ts"],"sourcesContent":["// Sistema inteligente para detectar e usar as vari√°veis corretas do Supabase\n// Detecta automaticamente se as vari√°veis est√£o invertidas e usa corretamente\n\nexport function getSupabaseConfig() {\n  const env1 = process.env.NEXT_PUBLIC_SUPABASE_URL || ''\n  const env2 = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || ''\n  \n  let supabaseUrl: string | null = null\n  let supabaseKey: string | null = null\n  \n  // Detectar qual √© URL e qual √© Key\n  if (env1.startsWith('https://') && env1.includes('.supabase.')) {\n    // env1 √© a URL\n    supabaseUrl = env1\n    supabaseKey = env2\n  } else if (env2.startsWith('https://') && env2.includes('.supabase.')) {\n    // env2 √© a URL (vari√°veis invertidas!)\n    supabaseUrl = env2\n    supabaseKey = env1\n  } else if (env1.startsWith('eyJ')) {\n    // env1 √© a Key (JWT sempre come√ßa com eyJ)\n    supabaseKey = env1\n    supabaseUrl = env2\n  } else if (env2.startsWith('eyJ')) {\n    // env2 √© a Key\n    supabaseKey = env2\n    supabaseUrl = env1\n  }\n  \n  // Valida√ß√£o final\n  const isValid = \n    supabaseUrl && \n    supabaseKey && \n    supabaseUrl.startsWith('https://') && \n    supabaseUrl.includes('.supabase.') &&\n    supabaseKey.startsWith('eyJ')\n  \n  if (isValid) {\n    // Log seguro sem expor dados sens√≠veis\n    if (process.env.NODE_ENV === 'development') {\n      console.log('‚úÖ Supabase configurado corretamente!')\n    }\n    return {\n      url: supabaseUrl!,\n      anonKey: supabaseKey!,\n      configured: true\n    }\n  } else {\n    console.warn('‚ö†Ô∏è Supabase n√£o configurado ou vari√°veis inv√°lidas')\n    return {\n      url: null,\n      anonKey: null,\n      configured: false\n    }\n  }\n}"],"names":[],"mappings":"AAAA,6EAA6E;AAC7E,8EAA8E;;;;;AAEvE,SAAS;IACd,MAAM,OAAO,wPAAwC;IACrD,MAAM,OAAO,gFAA6C;IAE1D,IAAI,cAA6B;IACjC,IAAI,cAA6B;IAEjC,mCAAmC;IACnC,IAAI,KAAK,UAAU,CAAC,eAAe,KAAK,QAAQ,CAAC,eAAe;QAC9D,eAAe;QACf,cAAc;QACd,cAAc;IAChB,OAAO,IAAI,KAAK,UAAU,CAAC,eAAe,KAAK,QAAQ,CAAC,eAAe;QACrE,uCAAuC;QACvC,cAAc;QACd,cAAc;IAChB,OAAO,IAAI,KAAK,UAAU,CAAC,QAAQ;QACjC,2CAA2C;QAC3C,cAAc;QACd,cAAc;IAChB,OAAO,IAAI,KAAK,UAAU,CAAC,QAAQ;QACjC,eAAe;QACf,cAAc;QACd,cAAc;IAChB;IAEA,kBAAkB;IAClB,MAAM,UACJ,eACA,eACA,YAAY,UAAU,CAAC,eACvB,YAAY,QAAQ,CAAC,iBACrB,YAAY,UAAU,CAAC;IAEzB,IAAI,SAAS;QACX,uCAAuC;QACvC,wCAA4C;YAC1C,QAAQ,GAAG,CAAC;QACd;QACA,OAAO;YACL,KAAK;YACL,SAAS;YACT,YAAY;QACd;IACF,OAAO;QACL,QAAQ,IAAI,CAAC;QACb,OAAO;YACL,KAAK;YACL,SAAS;YACT,YAAY;QACd;IACF;AACF","debugId":null}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\nimport { Database } from '@/types/database'\nimport { createFallbackClient } from './fallback-client'\nimport { getSupabaseConfig } from './auto-detect'\n\nexport function createClient() {\n  // Detecta automaticamente a configura√ß√£o correta\n  const config = getSupabaseConfig()\n  \n  if (!config.configured || !config.url || !config.anonKey) {\n    console.warn('‚ö†Ô∏è Supabase n√£o configurado - usando dados locais')\n    return createFallbackClient() as any\n  }\n  \n  try {\n    // Conectar com as vari√°veis detectadas automaticamente\n    return createBrowserClient<Database>(config.url, config.anonKey)\n  } catch (error) {\n    console.error('‚ùå Erro ao conectar com Supabase:', error)\n    console.log('   Usando dados locais como fallback')\n    return createFallbackClient() as any\n  }\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAEA;AACA;;;;AAEO,SAAS;IACd,iDAAiD;IACjD,MAAM,SAAS,IAAA,sJAAiB;IAEhC,IAAI,CAAC,OAAO,UAAU,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,OAAO,EAAE;QACxD,QAAQ,IAAI,CAAC;QACb,OAAO,IAAA,6JAAoB;IAC7B;IAEA,IAAI;QACF,uDAAuD;QACvD,OAAO,IAAA,iMAAmB,EAAW,OAAO,GAAG,EAAE,OAAO,OAAO;IACjE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,QAAQ,GAAG,CAAC;QACZ,OAAO,IAAA,6JAAoB;IAC7B;AACF","debugId":null}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-full border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 px-4 py-2 text-sm text-gray-900 dark:text-gray-100 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 dark:placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:border-orange-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all hover:border-orange-400\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,ifACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 ring-offset-background placeholder:text-gray-500 dark:placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:border-orange-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all hover:border-orange-400\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wbACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-2xl border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,6DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-full border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 px-4 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-all hover:border-orange-400\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1 bg-gray-50 dark:bg-gray-800\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-pointer select-none items-center rounded-lg py-2 pl-8 pr-2 text-sm outline-none hover:bg-orange-100 dark:hover:bg-orange-900/20 focus:bg-orange-100 dark:focus:bg-orange-900/20 data-[state=checked]:bg-orange-100 dark:data-[state=checked]:bg-orange-900/20 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4 text-orange-500\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,4YACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6NAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,kHAAE,EACX,ugBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kHAAE,EACX,mCACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,8WACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/templates/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { \n  Select, \n  SelectContent, \n  SelectItem, \n  SelectTrigger, \n  SelectValue \n} from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { toast } from \"react-hot-toast\";\nimport { \n  FileText, \n  Save, \n  Loader2,\n  Receipt,\n  Package,\n  CreditCard,\n  Plus,\n  Trash2,\n  Copy,\n  Bold,\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  Type,\n  Hash,\n  Calendar,\n  Clock,\n  User,\n  DollarSign,\n  Printer as PrinterIcon,\n  ChevronUp,\n  ChevronDown,\n  Settings2\n} from \"lucide-react\";\nimport useSWR, { mutate } from 'swr';\n\n// Template types\nconst templateTypes = [\n  { id: 'receipt', label: 'Cupom Fiscal', icon: Receipt },\n  { id: 'kitchen', label: 'Pedido Produto', icon: Package },\n  { id: 'bill', label: 'Conta Cliente', icon: CreditCard }\n];\n\n// Template sections\nconst templateSections = {\n  header: 'Cabe√ßalho',\n  items: 'Itens',\n  footer: 'Rodap√©'\n};\n\n// Variables available\nconst availableVariables = [\n  { id: 'company_name', label: 'Nome da Empresa', icon: Type, value: '{{company_name}}' },\n  { id: 'company_address', label: 'Endere√ßo', icon: Type, value: '{{company_address}}' },\n  { id: 'company_phone', label: 'Telefone', icon: Type, value: '{{company_phone}}' },\n  { id: 'order_number', label: 'N√∫mero do Pedido', icon: Hash, value: '{{order_number}}' },\n  { id: 'table_number', label: 'Mesa', icon: Hash, value: '{{table_number}}' },\n  { id: 'customer_name', label: 'Cliente', icon: User, value: '{{customer_name}}' },\n  { id: 'date', label: 'Data', icon: Calendar, value: '{{date}}' },\n  { id: 'time', label: 'Hora', icon: Clock, value: '{{time}}' },\n  { id: 'each_items', label: 'Loop de Itens', icon: Package, value: '{{#each items}}...{{/each}}' },\n  { id: 'item_qty', label: 'Qtd do Item', icon: Hash, value: '{{quantity}}' },\n  { id: 'item_name', label: 'Nome do Item', icon: Package, value: '{{name}}' },\n  { id: 'item_price', label: 'Pre√ßo do Item', icon: DollarSign, value: '{{price}}' },\n  { id: 'item_obs', label: 'Observa√ß√£o Item', icon: Type, value: '{{observation}}' },\n  { id: 'item_group', label: 'Grupo/Categoria', icon: Package, value: '{{item_group}}' },\n  { id: 'if_group', label: 'Se tem Grupo', icon: Package, value: '{{#if item_group}}...{{/if}}' },\n  { id: 'subtotal', label: 'Subtotal', icon: DollarSign, value: '{{subtotal}}' },\n  { id: 'discount', label: 'Desconto', icon: DollarSign, value: '{{discount}}' },\n  { id: 'service_fee', label: 'Taxa Servi√ßo', icon: DollarSign, value: '{{service_fee}}' },\n  { id: 'total', label: 'Total', icon: DollarSign, value: '{{total}}' },\n  { id: 'payment_method', label: 'Forma Pagamento', icon: CreditCard, value: '{{payment_method}}' }\n];\n\n// Default templates\nconst defaultTemplates: any = {\n  receipt: {\n    header: `{{company_name}}\n{{company_address}}\nTel: {{company_phone}}\n--------------------------------\n       CUPOM FISCAL\n--------------------------------\nData: {{date}}  Hora: {{time}}\nPedido: #{{order_number}}\nMesa: {{table_number}}\n--------------------------------`,\n    items: `QTD  DESCRI√á√ÉO         VALOR\n--------------------------------\n{{#each items}}\n{{quantity}}x   {{name}}\n                    R$ {{price}}\n{{/each}}`,\n    footer: `--------------------------------\nSubtotal:         R$ {{subtotal}}\nDesconto:         R$ {{discount}}\n--------------------------------\nTOTAL:            R$ {{total}}\n--------------------------------\nPagamento: {{payment_method}}\n--------------------------------\n    Obrigado pela prefer√™ncia!\n        Volte sempre!\n--------------------------------`\n  },\n  kitchen: {\n    header: `================================\n       PEDIDO COZINHA\n================================\nMesa: {{table_number}}\nPedido: #{{order_number}}\nHora: {{time}}\n================================`,\n    items: `{{#each items}}\n{{#if item_group}}\n--- CATEGORIA: {{item_group}} ---\n{{/if}}\n{{quantity}}x {{name}}\n   {{#if observation}}\n   OBS: {{observation}}\n   {{/if}}\n--------------------------------\n{{/each}}`,\n    footer: `================================\nAtendente: {{customer_name}}\n================================`\n  },\n  bill: {\n    header: `{{company_name}}\n--------------------------------\n           CONTA\n--------------------------------\nMesa: {{table_number}}\nCliente: {{customer_name}}\nData: {{date}}  Hora: {{time}}\n--------------------------------`,\n    items: `ITEM                     VALOR\n--------------------------------\n{{#each items}}\n{{quantity}}x {{name}}\n                    R$ {{price}}\n{{/each}}`,\n    footer: `--------------------------------\nSUBTOTAL:         R$ {{subtotal}}\nTAXA SERVI√áO:     R$ {{service_fee}}\n--------------------------------\nTOTAL A PAGAR:    R$ {{total}}\n--------------------------------\n        Obrigado!`\n  },\n  order: {\n    header: `================================\n         COMANDA MESA\n================================\nMesa: {{table_number}}\nAtendente: {{customer_name}}\nPedido: #{{order_number}}\n--------------------------------`,\n    items: `{{#each items}}\n[ ] {{quantity}}x {{name}}\n    {{#if observation}}\n    OBS: {{observation}}\n    {{/if}}\n{{/each}}`,\n    footer: `--------------------------------\nHora: {{time}}\n================================\n    Assinatura do Cliente:\n    \n    _____________________`\n  }\n};\n\ninterface TemplateSection {\n  id: string;\n  name: string;\n  content: string;\n  type: 'text' | 'items';\n  fontSize?: number;\n  fontFamily?: string;\n  align?: 'left' | 'center' | 'right';\n  bold?: boolean;\n}\n\nexport default function TemplatesPage() {\n  const supabase = createClient();\n  const [selectedType, setSelectedType] = useState('receipt');\n  const [saving, setSaving] = useState(false);\n  const [templates, setTemplates] = useState<any>({});\n  const [editingSection, setEditingSection] = useState<string | null>(null);\n  const [editingSectionName, setEditingSectionName] = useState<string | null>(null);\n  const [sections, setSections] = useState<TemplateSection[]>([\n    { id: '1', name: 'Cabe√ßalho', content: '', type: 'text', fontSize: 12, fontFamily: 'mono', align: 'center', bold: false },\n    { id: '2', name: 'Itens', content: '', type: 'items', fontSize: 11, fontFamily: 'mono', align: 'left', bold: false },\n    { id: '3', name: 'Rodap√©', content: '', type: 'text', fontSize: 10, fontFamily: 'mono', align: 'center', bold: false }\n  ]);\n  \n  // Printer state for templates\n  const [printers, setPrinters] = useState<any[]>([]);\n  const [selectedPrinters, setSelectedPrinters] = useState<any>({\n    receipt: null,  // Nota Fiscal\n    bill: null      // Conta Cliente\n    // kitchen (Pedido Produto) n√£o precisa - usa configura√ß√£o individual\n  });\n  \n  // Restaurant data state\n  const [restaurantInfo, setRestaurantInfo] = useState({\n    name: 'xxxxxx',\n    address: 'xxxxxx',\n    phone: 'xxxxxx'\n  });\n\n  // Load templates from database\n  const { data: dbTemplates, isLoading } = useSWR('templates', async () => {\n    const { data, error } = await supabase\n      .from('print_templates')\n      .select('*');\n    \n    if (error) {\n      console.error('Error loading templates:', error);\n      return {};\n    }\n    \n    console.log('üî• Templates carregados do banco:', data);\n    \n    // Convert array to object by type\n    const templatesObj: any = {};\n    data?.forEach((template: any) => {\n      const templateType = template.template_type;\n      if (templateType) {\n        console.log(`üî• Template ${templateType}:`, {\n          id: template.id,\n          sections: template.sections,\n          custom_header: template.custom_header,\n          items_content: template.items_content,\n          custom_footer: template.custom_footer\n        });\n        \n        templatesObj[templateType] = {\n          id: template.id,\n          header: template.custom_header || defaultTemplates[templateType]?.header || '',\n          items: template.items_content || defaultTemplates[templateType]?.items || '',\n          footer: template.custom_footer || defaultTemplates[templateType]?.footer || '',\n          sections: template.sections || null, // Store sections config\n          printer_id: template.printer_id || null // Store printer config\n        };\n      }\n    });\n    \n    return templatesObj;\n  });\n\n  // Initialize templates with defaults if not in database\n  // Fetch restaurant data and printers\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch restaurant data\n        const response = await fetch('/api/restaurant');\n        if (response.ok) {\n          const data = await response.json();\n          setRestaurantInfo({\n            name: data.name || 'xxxxxx',\n            address: data.full_address || 'xxxxxx',\n            phone: data.phone || 'xxxxxx'\n          });\n        }\n        \n        // Fetch printers\n        const { data: printersData, error: printersError } = await supabase\n          .from('printers')\n          .select('id, name, active')\n          .eq('active', true)\n          .order('name');\n        \n        if (!printersError && printersData) {\n          setPrinters(printersData);\n        }\n      } catch (error) {\n        console.error('Failed to fetch data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (!isLoading && dbTemplates) {\n      const mergedTemplates: any = {};\n      const printerConfig: any = {};\n      \n      templateTypes.forEach(type => {\n        mergedTemplates[type.id] = dbTemplates[type.id] || {\n          header: defaultTemplates[type.id].header,\n          items: defaultTemplates[type.id].items,\n          footer: defaultTemplates[type.id].footer,\n          printer_id: null\n        };\n        \n        // Load printer configuration for each template\n        if (type.id === 'receipt' || type.id === 'bill') {\n          printerConfig[type.id] = dbTemplates[type.id]?.printer_id || null;\n        }\n      });\n      \n      setTemplates(mergedTemplates);\n      setSelectedPrinters(printerConfig);\n      \n      // Convert to sections format\n      const template = mergedTemplates[selectedType] || defaultTemplates[selectedType];\n      \n      // Use saved sections if available, otherwise use defaults\n      if (template.sections) {\n        // Parse sections if it's a string\n        const parsedSections = typeof template.sections === 'string' \n          ? JSON.parse(template.sections) \n          : template.sections;\n        \n        if (Array.isArray(parsedSections)) {\n          setSections(parsedSections);\n        } else {\n          setSections([\n            { id: '1', name: 'Cabe√ßalho', content: template.header || '', type: 'text', fontSize: 12, fontFamily: 'mono', align: 'center', bold: false },\n            { id: '2', name: 'Itens', content: template.items || '', type: 'items', fontSize: 11, fontFamily: 'mono', align: 'left', bold: false },\n            { id: '3', name: 'Rodap√©', content: template.footer || '', type: 'text', fontSize: 10, fontFamily: 'mono', align: 'center', bold: false }\n          ]);\n        }\n      } else {\n        setSections([\n          { id: '1', name: 'Cabe√ßalho', content: template.header || '', type: 'text', fontSize: 12, fontFamily: 'mono', align: 'center', bold: false },\n          { id: '2', name: 'Itens', content: template.items || '', type: 'items', fontSize: 11, fontFamily: 'mono', align: 'left', bold: false },\n          { id: '3', name: 'Rodap√©', content: template.footer || '', type: 'text', fontSize: 10, fontFamily: 'mono', align: 'center', bold: false }\n        ]);\n      }\n    }\n  }, [dbTemplates, isLoading, selectedType]);\n\n  // Handle template type change\n  const handleTypeChange = (type: string) => {\n    setSelectedType(type);\n    const template = templates[type] || defaultTemplates[type];\n    \n    // Use saved sections if available, otherwise use defaults\n    if (template.sections) {\n      // Parse sections if it's a string\n      const parsedSections = typeof template.sections === 'string' \n        ? JSON.parse(template.sections) \n        : template.sections;\n      \n      if (Array.isArray(parsedSections)) {\n        setSections(parsedSections);\n      } else {\n        setSections([\n          { id: '1', name: 'Cabe√ßalho', content: template.header || '', type: 'text', fontSize: 12, fontFamily: 'mono', align: 'center', bold: false },\n          { id: '2', name: 'Itens', content: template.items || '', type: 'items', fontSize: 11, fontFamily: 'mono', align: 'left', bold: false },\n          { id: '3', name: 'Rodap√©', content: template.footer || '', type: 'text', fontSize: 10, fontFamily: 'mono', align: 'center', bold: false }\n        ]);\n      }\n    } else {\n      setSections([\n        { id: '1', name: 'Cabe√ßalho', content: template.header || '', type: 'text', fontSize: 12, fontFamily: 'mono', align: 'center', bold: false },\n        { id: '2', name: 'Itens', content: template.items || '', type: 'items', fontSize: 11, fontFamily: 'mono', align: 'left', bold: false },\n        { id: '3', name: 'Rodap√©', content: template.footer || '', type: 'text', fontSize: 10, fontFamily: 'mono', align: 'center', bold: false }\n      ]);\n    }\n    setEditingSection(null);\n  };\n  \n  // Add new section\n  const addSection = (type: 'text' | 'items' = 'text') => {\n    const newSection: TemplateSection = {\n      id: Date.now().toString(),\n      name: type === 'items' ? 'Nova √Årea de Itens' : 'Nova Se√ß√£o',\n      content: type === 'items' ? '{{#each items}}\\n{{quantity}}x {{name}}\\n{{/each}}' : '',\n      type,\n      fontSize: 11,\n      fontFamily: 'mono',\n      align: type === 'items' ? 'left' : 'center',\n      bold: false\n    };\n    setSections([...sections, newSection]);\n  };\n\n  // Duplicate section\n  const duplicateSection = (section: TemplateSection) => {\n    const newSection: TemplateSection = {\n      ...section,\n      id: Date.now().toString(),\n      name: `${section.name} (C√≥pia)`\n    };\n    const index = sections.findIndex(s => s.id === section.id);\n    const newSections = [...sections];\n    newSections.splice(index + 1, 0, newSection);\n    setSections(newSections);\n  };\n\n  // Delete section\n  const deleteSection = (sectionId: string) => {\n    if (sections.length > 1) {\n      setSections(sections.filter(s => s.id !== sectionId));\n    } else {\n      toast.error('Deve ter pelo menos uma se√ß√£o');\n    }\n  };\n\n  // Update section content\n  const updateSection = (sectionId: string, content: string) => {\n    setSections(sections.map(s => \n      s.id === sectionId ? { ...s, content } : s\n    ));\n  };\n\n  // Update section name\n  const updateSectionName = (sectionId: string, name: string) => {\n    setSections(sections.map(s => \n      s.id === sectionId ? { ...s, name } : s\n    ));\n    setEditingSectionName(null);\n  };\n\n  // Copy variable to clipboard\n  const copyVariable = (value: string) => {\n    navigator.clipboard.writeText(value);\n    toast.success(`${value} copiado!`);\n  };\n\n  // Move section up\n  const moveSectionUp = (index: number) => {\n    if (index > 0) {\n      const newSections = [...sections];\n      [newSections[index - 1], newSections[index]] = [newSections[index], newSections[index - 1]];\n      setSections(newSections);\n    }\n  };\n\n  // Move section down\n  const moveSectionDown = (index: number) => {\n    if (index < sections.length - 1) {\n      const newSections = [...sections];\n      [newSections[index], newSections[index + 1]] = [newSections[index + 1], newSections[index]];\n      setSections(newSections);\n    }\n  };\n\n  // Update section config\n  const updateSectionConfig = (sectionId: string, config: Partial<TemplateSection>) => {\n    setSections(sections.map(s => \n      s.id === sectionId ? { ...s, ...config } : s\n    ));\n  };\n\n  // Save template\n  const saveTemplate = async () => {\n    setSaving(true);\n    try {\n      // Look for existing template in database for this type - pegar o mais recente\n      const { data: existingTemplates, error: fetchError } = await supabase\n        .from('print_templates')\n        .select('id')\n        .eq('template_type', selectedType)\n        .order('id', { ascending: false })\n        .limit(1);\n\n      if (fetchError) throw fetchError;\n      \n      // Extract header, items, footer from sections\n      const headerSection = sections.find(s => s.name.toLowerCase().includes('cabe√ßa'));\n      const itemsSection = sections.find(s => s.type === 'items');\n      const footerSection = sections.find(s => s.name.toLowerCase().includes('rodap'));\n      \n      console.log('üî• Salvando template:', {\n        selectedType,\n        sections: sections,\n        headerSection: headerSection?.content,\n        itemsSection: itemsSection?.content,\n        footerSection: footerSection?.content\n      });\n      \n      // Validar que sections √© serializ√°vel como JSON\n      const validatedSections = sections.map(section => ({\n        id: section.id,\n        name: section.name,\n        content: section.content,\n        type: section.type,\n        fontSize: section.fontSize,\n        fontFamily: section.fontFamily,\n        align: section.align,\n        bold: section.bold\n      }));\n      \n      const templateData = {\n        name: `Template ${templateTypes.find(t => t.id === selectedType)?.label}`,\n        template_type: selectedType,\n        custom_header: headerSection?.content || sections[0]?.content || '',\n        items_content: itemsSection?.content || '',\n        custom_footer: footerSection?.content || sections[sections.length - 1]?.content || '',\n        sections: validatedSections, // Enviar objeto validado para JSONB\n        description: `Template para ${templateTypes.find(t => t.id === selectedType)?.label}`,\n        header_enabled: true,\n        footer_enabled: true,\n        show_logo: false,\n        cut_paper: true,\n        active: true,\n        // Adicionar impressora apenas para templates que precisam\n        ...(selectedType === 'receipt' || selectedType === 'bill' ? {\n          printer_id: selectedPrinters[selectedType] || null\n        } : {})\n      };\n      \n      console.log('üî• Template data para salvar:', templateData);\n\n      if (existingTemplates && existingTemplates.length > 0) {\n        // Update existing\n        const { error } = await supabase\n          .from('print_templates')\n          .update(templateData)\n          .eq('id', existingTemplates[0].id);\n\n        if (error) throw error;\n        \n        // Update local state\n        setTemplates({\n          ...templates,\n          [selectedType]: {\n            id: existingTemplates[0].id,\n            header: templateData.custom_header,\n            items: templateData.items_content,\n            footer: templateData.custom_footer,\n            sections: sections // Save sections config\n          }\n        });\n      } else {\n        // Create new\n        const { data: newTemplate, error } = await supabase\n          .from('print_templates')\n          .insert([templateData])\n          .select()\n          .single();\n\n        if (error) throw error;\n        \n        // Update local state with new ID\n        if (newTemplate) {\n          setTemplates({\n            ...templates,\n            [selectedType]: {\n              id: newTemplate.id,\n              header: templateData.custom_header,\n              items: templateData.items_content,\n              footer: templateData.custom_footer,\n              sections: sections // Save sections config\n            }\n          });\n        }\n      }\n\n      toast.success('Template salvo com sucesso!');\n      mutate('templates');\n    } catch (error) {\n      console.error('Error saving template:', error);\n      toast.error('Erro ao salvar template');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Reset to default\n  const resetToDefault = () => {\n    if (confirm('Restaurar template padr√£o? Isso apagar√° suas altera√ß√µes.')) {\n      const template = defaultTemplates[selectedType];\n      setSections([\n        { id: '1', name: 'Cabe√ßalho', content: template.header || '', type: 'text', fontSize: 12, fontFamily: 'mono', align: 'center', bold: false },\n        { id: '2', name: 'Itens', content: template.items || '', type: 'items', fontSize: 11, fontFamily: 'mono', align: 'left', bold: false },\n        { id: '3', name: 'Rodap√©', content: template.footer || '', type: 'text', fontSize: 10, fontFamily: 'mono', align: 'center', bold: false }\n      ]);\n      toast.success('Template restaurado ao padr√£o');\n    }\n  };\n\n  // Preview render\n  const renderPreview = (content: string, section?: TemplateSection) => {\n    // Sample items data com grupo/categoria\n    const sampleItems = [\n      { quantity: '2', name: 'Sushi Especial', price: '45,00', observation: '', item_group: 'ROD√çZIO PREMIUM' },\n      { quantity: '1', name: 'Temaki Salm√£o', price: '18,00', observation: 'Sem wasabi', item_group: 'ROD√çZIO PREMIUM' },\n      { quantity: '2', name: 'Coca-Cola 350ml', price: '8,00', observation: '', item_group: 'BEBIDAS' }\n    ];\n\n    // Replace variables with sample data\n    const sampleData: any = {\n      company_name: restaurantInfo.name,\n      company_address: restaurantInfo.address,\n      company_phone: restaurantInfo.phone,\n      order_number: '00123',\n      table_number: '05',\n      customer_name: 'Jo√£o Silva',\n      date: new Date().toLocaleDateString('pt-BR'),\n      time: new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' }),\n      subtotal: '103,00',\n      service_fee: '10,30',\n      discount: '0,00',\n      total: '113,30',\n      payment_method: 'Cart√£o Cr√©dito'\n    };\n\n    let preview = content;\n    \n    // Handle {{#each items}} loops\n    const eachPattern = /\\{\\{#each items\\}\\}([\\s\\S]*?)\\{\\{\\/each\\}\\}/g;\n    preview = preview.replace(eachPattern, (match, itemTemplate) => {\n      return sampleItems.map(item => {\n        let itemStr = itemTemplate;\n        \n        // Handle {{#if field}} condicionais gen√©ricas\n        const ifPattern = /\\{\\{#if\\s+(\\w+)\\}\\}([\\s\\S]*?)\\{\\{\\/if\\}\\}/g;\n        itemStr = itemStr.replace(ifPattern, (ifMatch: string, field: string, ifContent: string) => {\n          const fieldValue = (item as any)[field];\n          // S√≥ mostra o conte√∫do se o campo existe e n√£o √© vazio\n          if (fieldValue && fieldValue !== '') {\n            return ifContent;\n          }\n          return '';\n        });\n        \n        // Replace item variables\n        Object.keys(item).forEach(key => {\n          const regex = new RegExp(`\\\\{\\\\{${key}\\\\}\\\\}`, 'g');\n          itemStr = itemStr.replace(regex, (item as any)[key]);\n        });\n        \n        return itemStr;\n      }).join('');\n    });\n    \n    // Replace remaining variables\n    Object.keys(sampleData).forEach(key => {\n      const regex = new RegExp(`\\\\{\\\\{${key}\\\\}\\\\}`, 'g');\n      preview = preview.replace(regex, sampleData[key]);\n    });\n    \n    return preview;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-950\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-orange-500\">\n                <FileText className=\"h-5 w-5 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                  Templates de Impress√£o\n                </h1>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  Configure os modelos de impress√£o do sistema\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <Button\n                variant=\"outline\"\n                onClick={resetToDefault}\n                className=\"rounded-full\"\n              >\n                Restaurar Padr√£o\n              </Button>\n              <Button\n                onClick={saveTemplate}\n                disabled={saving}\n                className=\"bg-orange-500 hover:bg-orange-600 text-white rounded-full\"\n              >\n                {saving ? (\n                  <>\n                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                    Salvando...\n                  </>\n                ) : (\n                  <>\n                    <Save className=\"h-4 w-4 mr-2\" />\n                    Salvar Template\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6\">\n        {/* Template Type Selector */}\n        <div className=\"mb-6\">\n          <div className=\"flex gap-3 items-end\">\n            <div className=\"flex gap-3\">\n              {templateTypes.map(type => {\n                const Icon = type.icon;\n                return (\n                  <button\n                    key={type.id}\n                    onClick={() => handleTypeChange(type.id)}\n                    className={`\n                      flex items-center gap-2 px-4 py-3 rounded-xl border-2 transition-all\n                      ${selectedType === type.id \n                        ? 'border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400' \n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'}\n                    `}\n                  >\n                    <Icon className=\"h-5 w-5\" />\n                    <span className=\"font-medium\">{type.label}</span>\n                  </button>\n                );\n              })}\n            </div>\n            \n            {/* Printer Selection for Receipt and Bill templates */}\n            {(selectedType === 'receipt' || selectedType === 'bill') && (\n              <div className=\"ml-auto\">\n                <div className=\"flex items-center gap-3\">\n                  <Label className=\"text-sm font-medium\">Impressora:</Label>\n                  <Select\n                    value={selectedPrinters[selectedType] || ''}\n                    onValueChange={(value) => {\n                      setSelectedPrinters({\n                        ...selectedPrinters,\n                        [selectedType]: value || null\n                      });\n                    }}\n                  >\n                    <SelectTrigger className=\"w-[200px]\">\n                      <SelectValue placeholder=\"Selecione a impressora\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"\">Nenhuma</SelectItem>\n                      {printers.map((printer) => (\n                        <SelectItem key={printer.id} value={printer.id.toString()}>\n                          {printer.name}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {isLoading ? (\n          <div className=\"flex justify-center py-12\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-orange-500\" />\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-3 gap-6\">\n            {/* Editor Column */}\n            <div className=\"col-span-2 space-y-4\">\n              {/* Add Section Button */}\n              <div className=\"flex gap-2\">\n                <Button\n                  onClick={() => addSection('text')}\n                  className=\"bg-orange-500 hover:bg-orange-600 text-white rounded-full\"\n                  size=\"sm\"\n                >\n                  <Plus className=\"h-4 w-4 mr-1\" />\n                  Nova Se√ß√£o\n                </Button>\n                <Button\n                  onClick={() => addSection('items')}\n                  variant=\"outline\"\n                  className=\"rounded-full\"\n                  size=\"sm\"\n                >\n                  <Plus className=\"h-4 w-4 mr-1\" />\n                  Nova √Årea de Itens\n                </Button>\n              </div>\n\n              {/* Dynamic Sections */}\n              {sections.map((section, index) => (\n                <Card key={section.id} className=\"p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"flex items-center gap-2\">\n                      {editingSectionName === section.id ? (\n                        <Input\n                          value={section.name}\n                          onChange={(e) => updateSectionName(section.id, e.target.value)}\n                          onBlur={() => setEditingSectionName(null)}\n                          onKeyDown={(e) => {\n                            if (e.key === 'Enter') {\n                              setEditingSectionName(null);\n                            }\n                          }}\n                          className=\"h-8 w-48\"\n                          autoFocus\n                        />\n                      ) : (\n                        <h3 \n                          className=\"font-semibold cursor-pointer hover:text-orange-500\"\n                          onClick={() => setEditingSectionName(section.id)}\n                        >\n                          {section.name}\n                        </h3>\n                      )}\n                      {section.type === 'items' && (\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          √Årea de Itens\n                        </Badge>\n                      )}\n                    </div>\n                    <div className=\"flex gap-1\">\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => moveSectionUp(index)}\n                        disabled={index === 0}\n                        title=\"Mover para cima\"\n                      >\n                        <ChevronUp className=\"h-4 w-4\" />\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => moveSectionDown(index)}\n                        disabled={index === sections.length - 1}\n                        title=\"Mover para baixo\"\n                      >\n                        <ChevronDown className=\"h-4 w-4\" />\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => duplicateSection(section)}\n                        title=\"Duplicar se√ß√£o\"\n                      >\n                        <Copy className=\"h-4 w-4\" />\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => deleteSection(section.id)}\n                        title=\"Excluir se√ß√£o\"\n                      >\n                        <Trash2 className=\"h-4 w-4 text-red-500\" />\n                      </Button>\n                    </div>\n                  </div>\n\n                  {/* Font and Style Controls */}\n                  <div className=\"flex flex-wrap gap-2 mb-3\">\n                    <Select\n                      value={section.fontSize?.toString() || '11'}\n                      onValueChange={(value) => updateSectionConfig(section.id, { fontSize: parseInt(value) })}\n                    >\n                      <SelectTrigger className=\"w-24 h-8\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"8\">8px</SelectItem>\n                        <SelectItem value=\"9\">9px</SelectItem>\n                        <SelectItem value=\"10\">10px</SelectItem>\n                        <SelectItem value=\"11\">11px</SelectItem>\n                        <SelectItem value=\"12\">12px</SelectItem>\n                        <SelectItem value=\"14\">14px</SelectItem>\n                        <SelectItem value=\"16\">16px</SelectItem>\n                      </SelectContent>\n                    </Select>\n\n                    <Select\n                      value={section.fontFamily || 'mono'}\n                      onValueChange={(value) => updateSectionConfig(section.id, { fontFamily: value })}\n                    >\n                      <SelectTrigger className=\"w-32 h-8\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"mono\">Mono</SelectItem>\n                        <SelectItem value=\"sans\">Sans</SelectItem>\n                        <SelectItem value=\"serif\">Serif</SelectItem>\n                      </SelectContent>\n                    </Select>\n\n                    <div className=\"flex gap-1 border rounded px-1\">\n                      <Button\n                        size=\"sm\"\n                        variant={section.align === 'left' ? 'default' : 'ghost'}\n                        onClick={() => updateSectionConfig(section.id, { align: 'left' })}\n                        className=\"h-8 w-8 p-0\"\n                      >\n                        <AlignLeft className=\"h-3 w-3\" />\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant={section.align === 'center' ? 'default' : 'ghost'}\n                        onClick={() => updateSectionConfig(section.id, { align: 'center' })}\n                        className=\"h-8 w-8 p-0\"\n                      >\n                        <AlignCenter className=\"h-3 w-3\" />\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant={section.align === 'right' ? 'default' : 'ghost'}\n                        onClick={() => updateSectionConfig(section.id, { align: 'right' })}\n                        className=\"h-8 w-8 p-0\"\n                      >\n                        <AlignRight className=\"h-3 w-3\" />\n                      </Button>\n                    </div>\n\n                    <Button\n                      size=\"sm\"\n                      variant={section.bold ? 'default' : 'outline'}\n                      onClick={() => updateSectionConfig(section.id, { bold: !section.bold })}\n                      className=\"h-8 w-8 p-0\"\n                    >\n                      <Bold className=\"h-3 w-3\" />\n                    </Button>\n                  </div>\n\n                  <Textarea\n                    value={section.content}\n                    onChange={(e) => updateSection(section.id, e.target.value)}\n                    className=\"font-mono text-xs h-32 resize-none\"\n                    placeholder={section.type === 'items' \n                      ? \"{{#each items}}\\n{{quantity}}x {{name}}\\n            R$ {{price}}\\n{{/each}}\"\n                      : \"Digite o conte√∫do da se√ß√£o...\"\n                    }\n                  />\n                </Card>\n              ))}\n\n              {/* Variables Helper */}\n              <Card className=\"p-4 bg-orange-50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800\">\n                <h4 className=\"text-sm font-semibold mb-3 text-orange-700 dark:text-orange-400\">\n                  Vari√°veis Dispon√≠veis (Clique para Copiar)\n                </h4>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {availableVariables.map(variable => {\n                    const Icon = variable.icon;\n                    return (\n                      <button\n                        key={variable.id}\n                        onClick={() => copyVariable(variable.value)}\n                        className=\"flex items-center justify-between gap-2 p-2 text-xs bg-white dark:bg-gray-800 rounded hover:bg-orange-100 dark:hover:bg-orange-900/20 border border-transparent hover:border-orange-300 transition-all group\"\n                      >\n                        <div className=\"flex items-center gap-2 flex-1\">\n                          <Icon className=\"h-3 w-3 text-orange-500 flex-shrink-0\" />\n                          <span className=\"truncate text-left\">{variable.label}</span>\n                        </div>\n                        <code className=\"text-[10px] text-gray-500 group-hover:text-orange-600 font-mono\">\n                          {variable.value.length > 15 ? variable.value.slice(0, 15) + '...' : variable.value}\n                        </code>\n                      </button>\n                    );\n                  })}\n                </div>\n                <div className=\"mt-3 p-2 bg-yellow-100 dark:bg-yellow-900/20 rounded text-xs text-yellow-700 dark:text-yellow-400\">\n                  üí° <strong>Dica:</strong> Clique em qualquer vari√°vel para copi√°-la e colar no template\n                </div>\n              </Card>\n\n              {/* Inline Formatting Helper */}\n              <Card className=\"p-4 bg-blue-50 dark:bg-blue-900/10 border-blue-200 dark:border-blue-800\">\n                <h4 className=\"text-sm font-semibold mb-3 text-blue-700 dark:text-blue-400\">\n                  Formata√ß√£o Inline (Clique para Copiar)\n                </h4>\n                <div className=\"space-y-2 text-xs\">\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <button\n                      onClick={() => {\n                        navigator.clipboard.writeText('[[big]]texto maior[[/big]]');\n                        toast.success('Tag copiada!');\n                      }}\n                      className=\"p-2 bg-white dark:bg-gray-800 rounded hover:bg-blue-100 dark:hover:bg-blue-900/20 text-left\"\n                    >\n                      <code className=\"text-blue-600\">[[big]]texto[[/big]]</code>\n                      <div className=\"text-gray-500 text-[10px]\">Texto maior</div>\n                    </button>\n                    <button\n                      onClick={() => {\n                        navigator.clipboard.writeText('[[small]]texto menor[[/small]]');\n                        toast.success('Tag copiada!');\n                      }}\n                      className=\"p-2 bg-white dark:bg-gray-800 rounded hover:bg-blue-100 dark:hover:bg-blue-900/20 text-left\"\n                    >\n                      <code className=\"text-blue-600\">[[small]]texto[[/small]]</code>\n                      <div className=\"text-gray-500 text-[10px]\">Texto menor</div>\n                    </button>\n                    <button\n                      onClick={() => {\n                        navigator.clipboard.writeText('[[bold]]negrito[[/bold]]');\n                        toast.success('Tag copiada!');\n                      }}\n                      className=\"p-2 bg-white dark:bg-gray-800 rounded hover:bg-blue-100 dark:hover:bg-blue-900/20 text-left\"\n                    >\n                      <code className=\"text-blue-600\">[[bold]]texto[[/bold]]</code>\n                      <div className=\"text-gray-500 text-[10px]\">Negrito</div>\n                    </button>\n                    <button\n                      onClick={() => {\n                        navigator.clipboard.writeText('[[size:16]]tamanho 16px[[/size]]');\n                        toast.success('Tag copiada!');\n                      }}\n                      className=\"p-2 bg-white dark:bg-gray-800 rounded hover:bg-blue-100 dark:hover:bg-blue-900/20 text-left\"\n                    >\n                      <code className=\"text-blue-600\">[[size:16]]texto[[/size]]</code>\n                      <div className=\"text-gray-500 text-[10px]\">Tamanho espec√≠fico</div>\n                    </button>\n                  </div>\n                  \n                  <div className=\"mt-2 p-2 bg-blue-100 dark:bg-blue-900/20 rounded\">\n                    <p className=\"text-blue-700 dark:text-blue-400 text-[11px]\">\n                      <strong>Exemplo:</strong> [[big]]TOTAL:[[/big]] [[bold]]R$ 50,00[[/bold]]\n                    </p>\n                  </div>\n                </div>\n              </Card>\n            </div>\n\n            {/* Preview Column */}\n            <div className=\"space-y-4\">\n              <div className=\"sticky top-4\">\n                <Card className=\"overflow-hidden bg-gray-900\">\n                  <div className=\"p-4 border-b border-gray-800 bg-gray-800\">\n                    <h3 className=\"font-semibold flex items-center gap-2 text-gray-100\">\n                      <PrinterIcon className=\"h-4 w-4 text-orange-500\" />\n                      Preview - Impressora T√©rmica 80mm\n                    </h3>\n                  </div>\n                  <div \n                    className=\"p-6 overflow-auto bg-gradient-to-br from-gray-900 to-gray-950\"\n                    style={{\n                      maxHeight: '700px'\n                    }}\n                  >\n                    {/* Thermal Printer Frame */}\n                    <div className=\"relative mx-auto\" style={{ width: '320px' }}>\n                      {/* Paper Roll Top */}\n                      <div className=\"h-8 bg-gradient-to-b from-gray-300 to-gray-100 rounded-t-lg relative\">\n                        <div className=\"absolute inset-x-0 top-2 flex justify-center gap-1\">\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full\" />\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full\" />\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full\" />\n                        </div>\n                      </div>\n                      \n                      {/* Paper with Receipt */}\n                      <div \n                        className=\"relative\"\n                        style={{\n                          background: 'linear-gradient(to bottom, #ffffff 0%, #fafafa 50%, #f5f5f0 100%)',\n                          boxShadow: '0 4px 12px rgba(0,0,0,0.15), inset 0 1px 3px rgba(0,0,0,0.05)',\n                          padding: '16px',\n                          minHeight: '400px'\n                        }}\n                      >\n                        {/* Paper texture overlay */}\n                        <div \n                          className=\"absolute inset-0 opacity-[0.03]\"\n                          style={{\n                            backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg%3E%3Crect fill='%23000000' x='0' y='0' width='1' height='1' opacity='0.5'/%3E%3C/g%3E%3C/svg%3E\")`,\n                            backgroundSize: '2px 2px'\n                          }}\n                        />\n                        \n                        {/* Receipt Content */}\n                        <div className=\"relative text-gray-900\">\n                          {sections.map(section => {\n                            const content = renderPreview(section.content, section);\n                            if (!content) return null;\n                            \n                            const fontFamilyMap: Record<string, string> = {\n                              'mono': '\"Courier New\", Courier, monospace',\n                              'sans': 'Arial, sans-serif',\n                              'serif': 'Georgia, serif'\n                            };\n                            \n                            // Check for inline formatting\n                            const hasInlineFormat = /\\[\\[(size:\\d+|bold|big|small)\\]\\]/.test(content);\n                            \n                            if (hasInlineFormat) {\n                              // Parse and render with inline formatting\n                              const renderFormattedContent = (text: string) => {\n                                const parts = [];\n                                let lastIndex = 0;\n                                const regex = /\\[\\[(size:\\d+|bold|big|small)\\]\\](.*?)\\[\\[\\/(?:size|bold|big|small)\\]\\]/g;\n                                let match;\n                                \n                                while ((match = regex.exec(text)) !== null) {\n                                  // Add text before match\n                                  if (match.index > lastIndex) {\n                                    parts.push(\n                                      <span key={`text-${lastIndex}`}>\n                                        {text.substring(lastIndex, match.index)}\n                                      </span>\n                                    );\n                                  }\n                                  \n                                  const [, tag, innerText] = match;\n                                  const style: any = {\n                                    fontFamily: fontFamilyMap[section.fontFamily || 'mono'],\n                                  };\n                                  \n                                  if (tag.startsWith('size:')) {\n                                    style.fontSize = `${parseInt(tag.replace('size:', ''))}px`;\n                                  } else if (tag === 'bold') {\n                                    style.fontWeight = 'bold';\n                                  } else if (tag === 'big') {\n                                    style.fontSize = `${(section.fontSize || 11) + 4}px`;\n                                  } else if (tag === 'small') {\n                                    style.fontSize = `${(section.fontSize || 11) - 2}px`;\n                                  }\n                                  \n                                  parts.push(\n                                    <span key={`format-${match.index}`} style={style}>\n                                      {innerText}\n                                    </span>\n                                  );\n                                  \n                                  lastIndex = match.index + match[0].length;\n                                }\n                                \n                                // Add remaining text\n                                if (lastIndex < text.length) {\n                                  parts.push(\n                                    <span key={`text-${lastIndex}-end`}>\n                                      {text.substring(lastIndex)}\n                                    </span>\n                                  );\n                                }\n                                \n                                return parts;\n                              };\n                              \n                              return (\n                                <div\n                                  key={section.id}\n                                  className=\"whitespace-pre-wrap break-all mb-1\"\n                                  style={{\n                                    fontFamily: fontFamilyMap[section.fontFamily || 'mono'],\n                                    fontSize: `${section.fontSize || 11}px`,\n                                    textAlign: section.align || 'left',\n                                    fontWeight: section.bold ? 'bold' : 'normal',\n                                    letterSpacing: '0.5px',\n                                    lineHeight: '1.3'\n                                  }}\n                                >\n                                  {renderFormattedContent(content)}\n                                </div>\n                              );\n                            } else {\n                              // Render without inline formatting\n                              return (\n                                <pre \n                                  key={section.id}\n                                  className=\"whitespace-pre-wrap break-all mb-1\"\n                                  style={{\n                                    fontFamily: fontFamilyMap[section.fontFamily || 'mono'],\n                                    fontSize: `${section.fontSize || 11}px`,\n                                    textAlign: section.align || 'left',\n                                    fontWeight: section.bold ? 'bold' : 'normal',\n                                    letterSpacing: '0.5px',\n                                    lineHeight: '1.3'\n                                  }}\n                                >\n                                  {content}\n                                </pre>\n                              );\n                            }\n                          })}\n                        </div>\n                      </div>\n                      \n                      {/* Paper Tear Edge */}\n                      <div \n                        className=\"h-4 relative\"\n                        style={{\n                          background: 'linear-gradient(to bottom, #f5f5f0, #e8e8e8)',\n                          clipPath: 'polygon(0% 0%, 5% 100%, 10% 0%, 15% 100%, 20% 0%, 25% 100%, 30% 0%, 35% 100%, 40% 0%, 45% 100%, 50% 0%, 55% 100%, 60% 0%, 65% 100%, 70% 0%, 75% 100%, 80% 0%, 85% 100%, 90% 0%, 95% 100%, 100% 0%)'\n                        }}\n                      />\n                    </div>\n                  </div>\n                </Card>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}