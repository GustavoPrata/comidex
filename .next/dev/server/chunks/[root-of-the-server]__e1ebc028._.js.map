{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/printers/virtual-status/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\n// Esta API retorna o status real das impressoras virtuais\n// baseado no que está armazenado no sistema\nexport async function POST(request: Request) {\n  try {\n    const { ipAddress } = await request.json();\n    \n    // Mapear o status padrão das impressoras virtuais\n    // Isso simula a verificação real de rede\n    const defaultVirtualStatus: Record<string, { powered: boolean, status: string }> = {\n      '192.168.1.101': { powered: false, status: 'offline' }, // Virtual Cozinha - DESLIGADA\n      '192.168.1.102': { powered: true, status: 'online' },   // Virtual Bar - LIGADA\n      '192.168.1.103': { powered: true, status: 'online' },   // Virtual Caixa - LIGADA\n      '192.168.1.104': { powered: true, status: 'online' }    // Virtual Sushi Bar - LIGADA\n    };\n    \n    // Se é um IP conhecido de impressora virtual\n    if (defaultVirtualStatus[ipAddress]) {\n      return NextResponse.json({\n        success: true,\n        ...defaultVirtualStatus[ipAddress],\n        isVirtual: true\n      });\n    }\n    \n    // Para IPs não virtuais, considerar online se ativo\n    return NextResponse.json({\n      success: true,\n      powered: true,\n      status: 'online',\n      isVirtual: false\n    });\n    \n  } catch (error: any) {\n    console.error('Erro ao verificar status virtual:', error);\n    return NextResponse.json(\n      { \n        success: false, \n        error: error.message || \"Erro ao verificar status\",\n        powered: false,\n        status: 'error'\n      },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":";;;;AAAA;;AAIO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,IAAI;QAExC,kDAAkD;QAClD,yCAAyC;QACzC,MAAM,uBAA6E;YACjF,iBAAiB;gBAAE,SAAS;gBAAO,QAAQ;YAAU;YACrD,iBAAiB;gBAAE,SAAS;gBAAM,QAAQ;YAAS;YACnD,iBAAiB;gBAAE,SAAS;gBAAM,QAAQ;YAAS;YACnD,iBAAiB;gBAAE,SAAS;gBAAM,QAAQ;YAAS,EAAK,6BAA6B;QACvF;QAEA,6CAA6C;QAC7C,IAAI,oBAAoB,CAAC,UAAU,EAAE;YACnC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,GAAG,oBAAoB,CAAC,UAAU;gBAClC,WAAW;YACb;QACF;QAEA,oDAAoD;QACpD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;YACT,QAAQ;YACR,WAAW;QACb;IAEF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,OAAO,MAAM,OAAO,IAAI;YACxB,SAAS;YACT,QAAQ;QACV,GACA;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}